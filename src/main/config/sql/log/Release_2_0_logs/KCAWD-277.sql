CREATE TABLE PENDING_TRANSACTIONS(
TRANSACTION_ID NUMBER(10) NOT NULL,
DOCUMENT_NUMBER VARCHAR2(10) NOT NULL,
SOURCE_AWARD_NUMBER VARCHAR2(12) NOT NULL,
DESTINATION_AWARD_NUMBER VARCHAR2(12) NOT NULL,
OBLIGATED_AMOUNT NUMBER(12,2),
ANTICIPATED_AMOUNT NUMBER(12,2),
COMMENTS VARCHAR2(2000),
UPDATE_TIMESTAMP DATE NOT NULL, 
UPDATE_USER VARCHAR2(60) NOT NULL, 
VER_NBR NUMBER(8,0) DEFAULT 1 NOT NULL, 
OBJ_ID VARCHAR2(36) DEFAULT SYS_GUID() NOT NULL);

ALTER TABLE PENDING_TRANSACTIONS
ADD CONSTRAINT PENDING_TRANSACTIONS_PK
PRIMARY KEY (TRANSACTION_ID);

ALTER TABLE PENDING_TRANSACTIONS
ADD CONSTRAINT PENDING_TRANSACTIONS_FK
FOREIGN KEY (DOCUMENT_NUMBER) REFERENCES TIME_AND_MONEY_DOCUMENT;

CREATE SEQUENCE SEQ_TRANSACTION_ID INCREMENT BY 1 START WITH 1;

-- Table Script 
CREATE TABLE AWARD_TRANSACTION_TYPE ( 
    AWARD_TRANSACTION_TYPE_CODE NUMBER(3,0) NOT NULL, 
    DESCRIPTION VARCHAR2(200) NOT NULL, 
    UPDATE_TIMESTAMP DATE NOT NULL, 
    UPDATE_USER VARCHAR2(60) NOT NULL, 
    SHOW_IN_ACTION_SUMMARY VARCHAR2(1) DEFAULT 'Y' NOT NULL, 
    VER_NBR NUMBER(8,0) DEFAULT 1 NOT NULL, 
    OBJ_ID VARCHAR2(36) DEFAULT SYS_GUID() NOT NULL);


-- Primary Key Constraint 
ALTER TABLE AWARD_TRANSACTION_TYPE 
ADD CONSTRAINT PK_AWARD_TRANSACTION_TYPE 
PRIMARY KEY (AWARD_TRANSACTION_TYPE_CODE);



-- View for Coeus compatibility 
CREATE OR REPLACE VIEW OSP$AWARD_TRANSACTION_TYPE AS SELECT 
    AWARD_TRANSACTION_TYPE_CODE, 
    DESCRIPTION, 
    UPDATE_TIMESTAMP, 
    UPDATE_USER, 
    SHOW_IN_ACTION_SUMMARY
FROM AWARD_TRANSACTION_TYPE;


INSERT INTO AWARD_TRANSACTION_TYPE ( AWARD_TRANSACTION_TYPE_CODE, DESCRIPTION, UPDATE_TIMESTAMP, UPDATE_USER, SHOW_IN_ACTION_SUMMARY ) 
VALUES ( 1, 'New', sysdate, user, 'Y' ); 
INSERT INTO AWARD_TRANSACTION_TYPE ( AWARD_TRANSACTION_TYPE_CODE, DESCRIPTION, UPDATE_TIMESTAMP, UPDATE_USER, SHOW_IN_ACTION_SUMMARY ) 
VALUES ( 2, 'Modification', sysdate, user, 'Y' ); 
INSERT INTO AWARD_TRANSACTION_TYPE ( AWARD_TRANSACTION_TYPE_CODE, DESCRIPTION, UPDATE_TIMESTAMP, UPDATE_USER, SHOW_IN_ACTION_SUMMARY ) 
VALUES ( 3, 'Supplement', sysdate, user, 'Y' ); 
INSERT INTO AWARD_TRANSACTION_TYPE ( AWARD_TRANSACTION_TYPE_CODE, DESCRIPTION, UPDATE_TIMESTAMP, UPDATE_USER, SHOW_IN_ACTION_SUMMARY ) 
VALUES ( 4, 'Increment', sysdate, user, 'Y' ); 
INSERT INTO AWARD_TRANSACTION_TYPE ( AWARD_TRANSACTION_TYPE_CODE, DESCRIPTION, UPDATE_TIMESTAMP, UPDATE_USER, SHOW_IN_ACTION_SUMMARY ) 
VALUES ( 5, 'No Cost Extension', sysdate, user, 'Y' ); 
INSERT INTO AWARD_TRANSACTION_TYPE ( AWARD_TRANSACTION_TYPE_CODE, DESCRIPTION, UPDATE_TIMESTAMP, UPDATE_USER, SHOW_IN_ACTION_SUMMARY ) 
VALUES ( 6, 'Correction of Error', sysdate, user, 'Y' ); 
