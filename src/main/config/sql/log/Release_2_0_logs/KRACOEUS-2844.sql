UPDATE ROLODEX
SET CITY = 'Kuali Coeus',
  STATE = 'MA',
  POSTAL_CODE = '53421',
  COUNTRY_CODE = 'USA',
  TITLE = 'Senior Administrator',
  FAX_NUMBER = '3215554123',
  EMAIL_ADDRESS = 'firstname@kuali.org',
  PHONE_NUMBER = '3215551234'
WHERE ROLODEX_ID = 1;

UPDATE KRIM_ENTITY_NM_T
SET FIRST_NM = 'Geoff',
  LAST_NM = 'McGregor'
WHERE ENTITY_NM_ID = '1301';
UPDATE PERSON_EXT_T
SET
  (
    PRIMARY_TITLE,
    DIRECTORY_TITLE
  )
  =
  (SELECT INITCAP(PRNCPL_NM) || ' Primary Title',
    INITCAP(PRNCPL_NM) || ' Directory Title'
  FROM KRIM_PRNCPL_T
  WHERE PRNCPL_ID = PERSON_ID
  );

INSERT INTO KRIM_ENTITY_EMAIL_T (ENTITY_EMAIL_ID, ENTITY_ID, ENT_TYP_CD, EMAIL_TYP_CD, EMAIL_ADDR, DFLT_IND, ACTV_IND, LAST_UPDT_DT, OBJ_ID, VER_NBR)
SELECT KRIM_ENTITY_EMAIL_ID_S.NEXTVAL,
  P.ENTITY_ID,
  EE.ENT_TYP_CD,
  'WRK',
  P.PRNCPL_NM || '@kuali.org',
  'Y',
  'Y',
  SYSDATE,
  SYS_GUID(),
  1
FROM KRIM_PRNCPL_T P,
  KRIM_ENTITY_ENT_TYP_T EE
WHERE P.ENTITY_ID = EE.ENTITY_ID
  AND EE.ENT_TYP_CD = 'PERSON';

INSERT INTO KRIM_ENTITY_ADDR_T (ENTITY_ADDR_ID,ENTITY_ID,ENT_TYP_CD,ADDR_TYP_CD,ADDR_LINE_1,ADDR_LINE_2,ADDR_LINE_3,CITY_NM,POSTAL_STATE_CD,POSTAL_CD,POSTAL_CNTRY_CD,DFLT_IND,ACTV_IND,LAST_UPDT_DT,OBJ_ID,VER_NBR) 
SELECT KRIM_ENTITY_ADDR_ID_S.NEXTVAL,
  P.ENTITY_ID,
  EE.ENT_TYP_CD,
  'WRK',
  ROWNUM || ' Kuali Drive',
  NULL,
  NULL,
  'Coeus',
  'MA',
  '53421',
  'US',
  'Y',
  'Y',
  SYSDATE,
  SYS_GUID(),
  1
FROM KRIM_PRNCPL_T P,
  KRIM_ENTITY_ENT_TYP_T EE
WHERE P.ENTITY_ID = EE.ENTITY_ID
  AND EE.ENT_TYP_CD = 'PERSON';

INSERT INTO KRIM_ENTITY_PHONE_T (ENTITY_PHONE_ID, ENTITY_ID ,ENT_TYP_CD  , PHONE_TYP_CD, PHONE_NBR, POSTAL_CNTRY_CD, ACTV_IND , DFLT_IND ,LAST_UPDT_DT , OBJ_ID , VER_NBR )
SELECT KRIM_ENTITY_PHONE_ID_S.NEXTVAL,
  P.ENTITY_ID,
  EE.ENT_TYP_CD,
  'WRK',
  '321-321-' || TO_CHAR(1000 + ROWNUM),
  'US',
  'Y',
  'Y',
  SYSDATE,
  SYS_GUID(),
  1
FROM KRIM_ENTITY_T P,
  KRIM_ENTITY_ENT_TYP_T EE
WHERE P.ENTITY_ID = EE.ENTITY_ID
  AND EE.ENT_TYP_CD = 'PERSON';

INSERT INTO KRIM_ENTITY_PHONE_T (ENTITY_PHONE_ID, ENTITY_ID ,ENT_TYP_CD  , PHONE_TYP_CD, PHONE_NBR, POSTAL_CNTRY_CD, ACTV_IND , DFLT_IND ,LAST_UPDT_DT , OBJ_ID , VER_NBR )
SELECT KRIM_ENTITY_PHONE_ID_S.NEXTVAL,
  P.ENTITY_ID,
  EE.ENT_TYP_CD,
  'FAX',
  '321-321-' || TO_CHAR(2000 + ROWNUM),
  'US',
  'Y',
  'N',
  SYSDATE,
  SYS_GUID(),
  1
FROM KRIM_ENTITY_T P,
  KRIM_ENTITY_ENT_TYP_T EE
WHERE P.ENTITY_ID = EE.ENTITY_ID
  AND EE.ENT_TYP_CD = 'PERSON';

INSERT INTO UNIT_ADMINISTRATOR (PERSON_ID, UNIT_NUMBER, UNIT_ADMINISTRATOR_TYPE_CODE, UPDATE_TIMESTAMP, UPDATE_USER, OBJ_ID, VER_NBR)
SELECT P.PRNCPL_ID,
  U.UNIT_NUMBER,
  A.UNIT_ADMINISTRATOR_TYPE_CODE,
  SYSDATE,
  USER,
  SYS_GUID(),
  1
FROM UNIT U,
  KRIM_PRNCPL_T P,
  UNIT_ADMINISTRATOR_TYPE A
WHERE P.PRNCPL_NM = 'rrabbit'
  AND A.DESCRIPTION = 'AOR-Authorized Organizational Representative';

COMMIT;