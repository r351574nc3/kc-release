
CREATE TABLE AWARD_BUDGET_STATUS (
    AWARD_BUDGET_STATUS_CODE VARCHAR2 (3 BYTE) NOT NULL ENABLE, 
    DESCRIPTION VARCHAR2 (200 BYTE) NOT NULL ENABLE, 
    VER_NBR NUMBER (8, 0) DEFAULT 1 NOT NULL ENABLE, 
    OBJ_ID VARCHAR2 (36 BYTE) DEFAULT SYS_GUID () NOT NULL ENABLE, 
    UPDATE_TIMESTAMP DATE NOT NULL ENABLE, 
    UPDATE_USER VARCHAR2 (60 BYTE) NOT NULL ENABLE) ;

ALTER TABLE AWARD_BUDGET_STATUS 
    ADD CONSTRAINT AWARD_BUDGET_STATUS_PK 
            PRIMARY KEY (AWARD_BUDGET_STATUS_CODE) ;

insert into AWARD_BUDGET_STATUS (AWARD_BUDGET_STATUS_CODE,DESCRIPTION,UPDATE_TIMESTAMP,UPDATE_USER) values ('1','In Progress',to_date('06-OCT-05','DD-MON-RR'),user);
insert into AWARD_BUDGET_STATUS (AWARD_BUDGET_STATUS_CODE,DESCRIPTION,UPDATE_TIMESTAMP,UPDATE_USER) values ('5','Submitted',to_date('06-OCT-05','DD-MON-RR'),user);
insert into AWARD_BUDGET_STATUS (AWARD_BUDGET_STATUS_CODE,DESCRIPTION,UPDATE_TIMESTAMP,UPDATE_USER) values ('8','Rejected',to_date('06-OCT-05','DD-MON-RR'),user);
insert into AWARD_BUDGET_STATUS (AWARD_BUDGET_STATUS_CODE,DESCRIPTION,UPDATE_TIMESTAMP,UPDATE_USER) values ('9','Posted',to_date('06-OCT-05','DD-MON-RR'),user);
insert into AWARD_BUDGET_STATUS (AWARD_BUDGET_STATUS_CODE,DESCRIPTION,UPDATE_TIMESTAMP,UPDATE_USER) values ('10','To Be Posted',to_date('06-OCT-05','DD-MON-RR'),user);
insert into AWARD_BUDGET_STATUS (AWARD_BUDGET_STATUS_CODE,DESCRIPTION,UPDATE_TIMESTAMP,UPDATE_USER) values ('11','Error in Posting',to_date('06-OCT-05','DD-MON-RR'),user);


 
CREATE TABLE AWARD_BUDGET_TYPE (
    AWARD_BUDGET_TYPE_CODE VARCHAR2 (3 BYTE) NOT NULL ENABLE, 
    DESCRIPTION VARCHAR2 (200 BYTE) NOT NULL ENABLE, 
    VER_NBR NUMBER (8, 0) DEFAULT 1 NOT NULL ENABLE, 
    OBJ_ID VARCHAR2 (36 BYTE) DEFAULT SYS_GUID () NOT NULL ENABLE, 
    UPDATE_TIMESTAMP DATE NOT NULL ENABLE, 
    UPDATE_USER VARCHAR2 (60 BYTE) NOT NULL ENABLE) ;

ALTER TABLE AWARD_BUDGET_TYPE 
    ADD CONSTRAINT AWARD_BUDGET_TYPE_PK 
            PRIMARY KEY (AWARD_BUDGET_TYPE_CODE) ;
 
insert into AWARD_BUDGET_TYPE (AWARD_BUDGET_TYPE_CODE,DESCRIPTION,UPDATE_TIMESTAMP,UPDATE_USER) values ('1','New',to_date('06-OCT-05','DD-MON-RR'),user);
insert into AWARD_BUDGET_TYPE (AWARD_BUDGET_TYPE_CODE,DESCRIPTION,UPDATE_TIMESTAMP,UPDATE_USER) values ('2','Rebudget',to_date('06-OCT-05','DD-MON-RR'),user);
   
   
CREATE TABLE AWARD_BUDGET_EXT (
    BUDGET_ID NUMBER (12, 0) NOT NULL ENABLE, 
    AWARD_BUDGET_STATUS_CODE VARCHAR2 (3) NOT NULL, 
    AWARD_BUDGET_TYPE_CODE VARCHAR2 (3) NOT NULL, 
    VER_NBR NUMBER (8, 0) DEFAULT 1 NOT NULL, 
    OBJ_ID VARCHAR2 (36 BYTE) DEFAULT SYS_GUID () NOT NULL, 
    UPDATE_TIMESTAMP DATE NOT NULL, 
    UPDATE_USER VARCHAR2 (60 BYTE) NOT NULL) ;

ALTER TABLE AWARD_BUDGET_EXT 
    ADD CONSTRAINT AWARD_BUDGET_EXT_PK 
            PRIMARY KEY (BUDGET_ID) ;
  
  ALTER TABLE AWARD_BUDGET_EXT 
	ADD CONSTRAINT FK_AWARD_BUDGET_EXT 
	FOREIGN KEY (BUDGET_ID) 
	REFERENCES BUDGET (BUDGET_ID);
  

  ALTER TABLE AWARD_BUDGET_EXT 
	ADD CONSTRAINT FK1_AWARD_BUDGET_EXT 
	FOREIGN KEY (AWARD_BUDGET_STATUS_CODE) 
	REFERENCES AWARD_BUDGET_STATUS (AWARD_BUDGET_STATUS_CODE);
  
  ALTER TABLE AWARD_BUDGET_EXT 
	ADD CONSTRAINT FK2_AWARD_BUDGET_EXT 
	FOREIGN KEY (AWARD_BUDGET_TYPE_CODE) 
	REFERENCES AWARD_BUDGET_TYPE (AWARD_BUDGET_TYPE_CODE);

insert into KRNS_PARM_T (NMSPC_CD,PARM_DTL_TYP_CD,PARM_NM,PARM_TYP_CD,TXT,PARM_DESC_TXT,CONS_CD) values ('KRA-B','D','AWARD_BUDGET_STATUS_IN_PROGRESS_CODE','CONFG','1','Default award budget status code','A');
	
  commit;
  