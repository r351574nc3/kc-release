set define off
--Important:

--WARNING - make sure you run the auth migration scripts before running this script.

--This script will do the following:
  --1) Drop tables, sequences, constraints, views related to old kim (not old Person).

--Any errors detected during data transformation will generate a message within the dbms.

--Enjoy :-)

ALTER TABLE KIM_GROUPS_GROUPS_T 
DROP CONSTRAINT KIM_GROUPS_GROUPS_FK1;

ALTER TABLE KIM_GROUPS_GROUPS_T 
DROP CONSTRAINT KIM_GROUPS_GROUPS_FK2;

ALTER TABLE KIM_GROUPS_PERSONS_T 
DROP CONSTRAINT KIM_GROUPS_PERSONS_FK1;

ALTER TABLE KIM_GROUPS_PERSONS_T 
DROP CONSTRAINT KIM_GROUPS_PERSONS_FK2;

ALTER TABLE KIM_GROUP_ATTRIBUTES_T 
DROP CONSTRAINT KIM_GROUP_ATTRIBUTES_FK1;

ALTER TABLE KIM_GROUP_ATTRIBUTES_T 
DROP CONSTRAINT KIM_GROUP_ATTRIBUTES_FK2;

ALTER TABLE KIM_NAMESPACE_DFLT_ATTRIBS_T 
DROP CONSTRAINT KIM_NMSPCE_DFLT_ATTR_FK1;

ALTER TABLE KIM_NAMESPACE_DFLT_ATTRIBS_T 
DROP CONSTRAINT KIM_NMSPCE_DFLT_ATTR_FK2;

ALTER TABLE KIM_PERMISSIONS_T 
DROP CONSTRAINT KIM_PERMISSIONS_FK1;

ALTER TABLE KIM_PERSON_ATTRIBUTES_T 
DROP CONSTRAINT KIM_PERSON_ATTRIBUTES_FK1; 

ALTER TABLE KIM_PERSON_ATTRIBUTES_T 
DROP CONSTRAINT KIM_PERSON_ATTRIBUTES_FK2; 

ALTER TABLE KIM_PERSON_ATTRIBUTES_T 
DROP CONSTRAINT KIM_PERSON_ATTRIBUTES_FK3;

--ALTER TABLE KIM_PERSON_QUALIFIED_GROUP_T 
--DROP CONSTRAINT KIM_PERSON_QUALIFIED_GROUP_FK1; 

--ALTER TABLE KIM_PERSON_QUALIFIED_GROUP_T 
--DROP CONSTRAINT KIM_PERSON_QUALIFIED_GROUP_FK2;

--ALTER TABLE KIM_PERSON_QUALIFIED_GROUP_T 
--DROP CONSTRAINT KIM_PERSON_QUALIFIED_GROUP_FK3;

--ALTER TABLE KIM_PERSON_QUALIFIED_ROLE_T 
--DROP CONSTRAINT KIM_PERSON_QUALIFIED_ROLE_FK1;

--ALTER TABLE KIM_PERSON_QUALIFIED_ROLE_T 
--DROP CONSTRAINT KIM_PERSON_QUALIFIED_ROLE_FK2;

--ALTER TABLE KIM_PERSON_QUALIFIED_ROLE_T 
--DROP CONSTRAINT KIM_PERSON_QUALIFIED_ROLE_FK3;

--ALTER TABLE KIM_ROLES_GROUPS_T 
--DROP CONSTRAINT KIM_ROLES_GROUPS_FK1;

--ALTER TABLE KIM_ROLES_GROUPS_T 
--DROP CONSTRAINT KIM_ROLES_GROUPS_FK2;

ALTER TABLE KIM_ROLES_PERMISSIONS_T 
DROP CONSTRAINT KIM_ROLES_PERMISSIONS_FK1; 

ALTER TABLE KIM_ROLES_PERMISSIONS_T 
DROP CONSTRAINT KIM_ROLES_PERMISSIONS_FK2;

--ALTER TABLE KIM_ROLES_PERSONS_T 
--DROP CONSTRAINT KIM_ROLES_PERSONS_FK1;

--ALTER TABLE KIM_ROLES_PERSONS_T 
--DROP CONSTRAINT KIM_ROLES_PERSONS_FK2;

ALTER TABLE KIM_ROLE_ATTRIBUTES_T 
DROP CONSTRAINT KIM_ROLE_ATTRIBUTES_FK1; 

ALTER TABLE KIM_ROLE_ATTRIBUTES_T 
DROP CONSTRAINT KIM_ROLE_ATTRIBUTES_FK2;

ALTER TABLE KIM_ROLES_PERSONS_QUAL_T
DROP CONSTRAINT KIM_ROLES_PERSONS_QUAL_FK1; 

ALTER TABLE KIM_ROLES_PERSONS_QUAL_T 
DROP CONSTRAINT KIM_ROLES_PERSONS_QUAL_FK2;

ALTER TABLE KIM_PERSON_QUAL_ATTR_T
DROP CONSTRAINT KIM_PERSON_QUAL_ATTR_FK1;

ALTER TABLE KIM_ROLES_GROUPS_QUAL_T 
DROP CONSTRAINT KIM_ROLES_GROUPS_QUAL_FK1; 

ALTER TABLE KIM_ROLES_GROUPS_QUAL_T 
DROP CONSTRAINT KIM_ROLES_GROUPS_QUAL_FK2;

ALTER TABLE KIM_GROUP_QUAL_ATTR_T
DROP CONSTRAINT KIM_GROUP_QUAL_ATTR_FK1;

ALTER TABLE kim_role_type_t
DROP CONSTRAINT kim_role_type_c0;

DROP TABLE KIM_ATTRIBUTE_TYPES_T;
DROP TABLE KIM_NAMESPACES_T;
DROP TABLE KIM_NAMESPACE_DFLT_ATTRIBS_T;
DROP TABLE KIM_PERMISSIONS_T;
DROP TABLE KIM_ROLES_T;
DROP TABLE KIM_ROLE_TYPE_T;
DROP TABLE KIM_ROLE_ATTRIBUTES_T;
DROP TABLE KIM_ROLES_PERMISSIONS_T;
DROP TABLE KIM_PERSONS_T;
DROP TABLE KIM_PERSON_ATTRIBUTES_T;
DROP TABLE KIM_GROUPS_T;
DROP TABLE KIM_GROUP_ATTRIBUTES_T;
DROP TABLE KIM_GROUPS_GROUPS_T;
DROP TABLE KIM_GROUPS_PERSONS_T;
DROP TABLE KIM_ROLES_PERSONS_T;
DROP TABLE KIM_ROLES_PERSONS_QUAL_T;
DROP TABLE KIM_PERSON_QUAL_ATTR_T;
DROP TABLE KIM_ROLES_GROUPS_T;
DROP TABLE KIM_ROLES_GROUPS_QUAL_T;
DROP TABLE KIM_GROUP_QUAL_ATTR_T;
DROP TABLE UNIT_ACL;

DROP SEQUENCE SEQ_KIM_ATTRIBUTE_TYPE_ID;
DROP SEQUENCE SEQ_KIM_NAMESPACE_ID;
DROP SEQUENCE SEQ_KIM_NS_DFLT_ATTRIBS_ID;
DROP SEQUENCE SEQ_KIM_PERMISSIONS_ID;
DROP SEQUENCE SEQ_KIM_ROLES_ID;
DROP SEQUENCE SEQ_KIM_ROLE_ATTRIBUTES_ID;
DROP SEQUENCE SEQ_KIM_GROUPS_ID;
DROP SEQUENCE SEQ_KIM_GROUP_ATTRIBUTES_ID;
DROP SEQUENCE SEQ_KIM_ROLES_PERSONS_ID;
DROP SEQUENCE SEQ_KIM_ROLES_GROUPS_ID;
DROP SEQUENCE SEQ_KIM_ROLES_PERSONS_QUAL_ID;
DROP SEQUENCE SEQ_KIM_PERSON_QUAL_ATTR_ID;
DROP SEQUENCE SEQ_KIM_ROLES_GROUPS_QUAL_ID;
DROP SEQUENCE SEQ_KIM_GROUP_QUAL_ATTR_ID;
DROP SEQUENCE SEQ_UNIT_ACL_ID;
DROP SEQUENCE seq_kim_attribute_types_id;
DROP SEQUENCE seq_kim_namespaces_id;
DROP SEQUENCE seq_kim_nmspce_dflt_attr_id;
DROP SEQUENCE seq_kim_persons_id;
DROP SEQUENCE seq_kim_person_attributes_id;
DROP SEQUENCE seq_kim_prsn_qual_grp_id;
DROP SEQUENCE seq_kim_prsn_qual_rl_id;
