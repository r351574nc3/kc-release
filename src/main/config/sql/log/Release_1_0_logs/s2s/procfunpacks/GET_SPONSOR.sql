CREATE OR REPLACE PROCEDURE GET_SPONSOR (
	as_sponsorcode in osp$sponsor.sponsor_code%type,
	cur_generic IN OUT result_sets.cur_generic) is
begin
open cur_generic for
	 SELECT OSP$SPONSOR.SPONSOR_CODE,
			OSP$SPONSOR.SPONSOR_NAME,
			OSP$SPONSOR.ACRONYM,
			OSP$SPONSOR.SPONSOR_TYPE_CODE,
			OSP$SPONSOR.DUN_AND_BRADSTREET_NUMBER,
			OSP$SPONSOR.DUNS_PLUS_FOUR_NUMBER,
			OSP$SPONSOR.DODAC_NUMBER,
			OSP$SPONSOR.CAGE_NUMBER,
			OSP$SPONSOR.POSTAL_CODE,
			OSP$SPONSOR.STATE,
			OSP$SPONSOR.COUNTRY_CODE,
			OSP$SPONSOR.ROLODEX_ID,
			OSP$SPONSOR.AUDIT_REPORT_SENT_FOR_FY,
			OSP$SPONSOR.OWNED_BY_UNIT,
			OSP$SPONSOR.CREATE_USER,
			OSP$SPONSOR.UPDATE_TIMESTAMP,
			OSP$SPONSOR.UPDATE_USER,
			OSP$SPONSOR_TYPE.DESCRIPTION SPONSOR_TYPE_DESC,
			OSP$COUNTRY_CODE.COUNTRY_NAME,
			OSP$STATE_CODE.DESCRIPTION as STATE_DESCRIPTION
	  FROM OSP$SPONSOR, OSP$SPONSOR_TYPE, OSP$COUNTRY_CODE, OSP$STATE_CODE
	 WHERE UPPER(sponsor_code) = UPPER(as_sponsorcode) AND
	 	   OSP$SPONSOR.SPONSOR_TYPE_CODE = OSP$SPONSOR_TYPE.SPONSOR_TYPE_CODE(+) AND
		   OSP$SPONSOR.COUNTRY_CODE = OSP$COUNTRY_CODE.COUNTRY_CODE(+) AND
		   OSP$SPONSOR.COUNTRY_CODE = OSP$STATE_CODE.COUNTRY_CODE(+) AND
		   OSP$SPONSOR.STATE = OSP$STATE_CODE.STATE_CODE(+);
end;
/

