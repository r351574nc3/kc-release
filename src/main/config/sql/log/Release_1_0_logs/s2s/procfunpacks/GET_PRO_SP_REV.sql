CREATE OR REPLACE PROCEDURE GET_PRO_SP_REV (
						as_proposal_num IN OSP$EPS_PROP_SPECIAL_REVIEW.proposal_number%TYPE,
						acur_proposal_sp_rev IN OUT result_sets.cur_generic) IS
BEGIN
OPEN acur_proposal_sp_rev FOR
	SELECT OSP$EPS_PROP_SPECIAL_REVIEW.*,OSP$SPECIAL_REVIEW.DESCRIPTION as SPECIAL_REVIEW_DESCRIPTION, OSP$SP_REV_APPROVAL_TYPE.DESCRIPTION as APPROVAL_TYPE_DESCRIPTION FROM 
      OSP$EPS_PROP_SPECIAL_REVIEW,
	  OSP$SPECIAL_REVIEW,
	  OSP$SP_REV_APPROVAL_TYPE
	WHERE UPPER(OSP$EPS_PROP_SPECIAL_REVIEW.PROPOSAL_NUMBER) = UPPER(as_proposal_num) AND
		OSP$SPECIAL_REVIEW.SPECIAL_REVIEW_CODE = OSP$EPS_PROP_SPECIAL_REVIEW.SPECIAL_REVIEW_CODE AND
		OSP$SP_REV_APPROVAL_TYPE.APPROVAL_TYPE_CODE = OSP$EPS_PROP_SPECIAL_REVIEW.APPROVAL_TYPE_CODE
    ORDER BY
      OSP$EPS_PROP_SPECIAL_REVIEW.SPECIAL_REVIEW_NUMBER ASC ;	
END;
/
