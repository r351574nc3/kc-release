CREATE OR REPLACE PROCEDURE          DW_GET_PROP_PERSON (
						as_proposal_num in osp$eps_prop_person.proposal_number%type,
						acur_prop_person IN OUT result_sets.cur_generic) is
begin
open acur_prop_person for
	select 	PROPOSAL_NUMBER  ,
 				PERSON_ID        ,
 				SSN              ,
 				LAST_NAME        ,
 				FIRST_NAME       ,
 				MIDDLE_NAME      ,
 				FULL_NAME        ,
 				PRIOR_NAME       ,
 				USER_NAME        ,
 				EMAIL_ADDRESS    ,
				DATE_OF_BIRTH    ,
 				AGE      ,
 				AGE_BY_FISCAL_YEAR ,
 				GENDER         ,
 				RACE           ,
 				EDUCATION_LEVEL,
 				DEGREE        ,
 				MAJOR         ,
 				IS_HANDICAPPED,
 				HANDICAP_TYPE ,
 				IS_VETERAN    ,
 				VETERAN_TYPE  ,
 				VISA_CODE     ,
 				VISA_TYPE     ,
 				VISA_RENEWAL_DATE,
 				HAS_VISA      ,
 				OFFICE_LOCATION,
 				OFFICE_PHONE  ,
 				SECONDRY_OFFICE_LOCATION ,
 				SECONDRY_OFFICE_PHONE ,
 				SCHOOL  ,
 				YEAR_GRADUATED   ,
 				DIRECTORY_DEPARTMENT,
 				SALUTATION  ,
 				COUNTRY_OF_CITIZENSHIP,
 				PRIMARY_TITLE ,
 				DIRECTORY_TITLE,
 				HOME_UNIT   ,
 				IS_FACULTY  ,
 				IS_GRADUATE_STUDENT_STAFF ,
 				IS_RESEARCH_STAFF ,
 				IS_SERVICE_STAFF ,
 				IS_SUPPORT_STAFF ,
 				IS_OTHER_ACCADEMIC_GROUP,
 				IS_MEDICAL_STAFF ,
				 VACATION_ACCURAL,
 				IS_ON_SABBATICAL,
 				ID_PROVIDED   ,
 				ID_VERIFIED    ,
 				UPDATE_TIMESTAMP,
				 UPDATE_USER  ,
 				ADDRESS_LINE_1 ,
 				ADDRESS_LINE_2 ,
 				ADDRESS_LINE_3 ,
 				CITY   ,
 				COUNTY,
 				STATE  ,
 				POSTAL_CODE,
 				COUNTRY_CODE ,
 				FAX_NUMBER  ,
 				PAGER_NUMBER  ,
 				MOBILE_PHONE_NUMBER,
				UPPER(ERA_COMMONS_USER_NAME) AS ERA_COMMONS_USER_NAME,
				SORT_ID
   from osp$eps_prop_person
	where proposal_number = as_proposal_num order by sort_id;--Modified for Case # 1777
end;
/

