alter table SPONSOR_FORMS add (SPONSOR_FORM_ID NUMBER(12,0), SPONSOR_HIERARCHY_NAME VARCHAR2(50));
alter table SPONSOR_FORM_TEMPLATES add (SPONSOR_FORM_TEMPLATE_ID NUMBER(12,0), SPONSOR_FORM_ID NUMBER(12,0));

create sequence SEQ_SPONSOR_FORM_TEMPLATES;
create sequence SEQ_SPONSOR_FORMS;

update SPONSOR_FORMS set SPONSOR_FORM_ID = SEQ_SPONSOR_FORMS.nextval;
update SPONSOR_FORM_TEMPLATES set SPONSOR_FORM_TEMPLATE_ID = SEQ_SPONSOR_FORM_TEMPLATES.nextval;

alter table SPONSOR_FORM_TEMPLATES drop constraint SPONSOR_FORM_TEMPLATESP1;
alter table SPONSOR_FORM_TEMPLATES add constraint SPONSOR_FORMTEMPLATESP1 primary key (SPONSOR_FORM_TEMPLATE_ID);
alter table SPONSOR_FORM_TEMPLATES drop constraint FK_SPONSOR_FORM_TEMPLATES;

alter table SPONSOR_FORMS drop constraint SPONSOR_FORMSP1;
alter table SPONSOR_FORMS add constraint SPONSOR_FORMSP1 primary key (SPONSOR_FORM_ID);
alter table SPONSOR_FORMS add constraint SPONSOR_FORMSU1 unique (SPONSOR_CODE, SPONSOR_HIERARCHY_NAME, PACKAGE_NUMBER);
alter table SPONSOR_FORMS modify PACKAGE_NUMBER NUMBER(3,0) NOT NULL;

alter table SPONSOR_FORM_TEMPLATES add constraint FK_SPONSOR_FORM_TEMPLATES foreign key (SPONSOR_FORM_ID) references SPONSOR_FORMS(SPONSOR_FORM_ID);

update SPONSOR_FORM_TEMPLATES sft set SPONSOR_FORM_ID = (select SPONSOR_FORM_ID from SPONSOR_FORMS where SPONSOR_CODE = sft.SPONSOR_CODE and PACKAGE_NUMBER = sft.PACKAGE_NUMBER);
alter table SPONSOR_FORM_TEMPLATES add constraint SPONSOR_FORM_TEMPLATESU1 unique (SPONSOR_FORM_ID, PAGE_NUMBER);

alter table SPONSOR_FORM_TEMPLATES drop (SPONSOR_CODE, PACKAGE_NUMBER);