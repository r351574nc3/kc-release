--make changes to the PROTOCOL_VOTE_ABSTAINEES  table
ALTER TABLE PROTOCOL_VOTE_ABSTAINEES 
ADD ("SUBMISSION_ID_FK" NUMBER(12) NOT NULL);

ALTER TABLE PROTOCOL_VOTE_ABSTAINEES 
DROP CONSTRAINT "FK_PROTOCOL_VOTE_ABSTAINEE_2";

ALTER TABLE PROTOCOL_VOTE_ABSTAINEES 
ADD CONSTRAINT PROTOCOL_VOTE_ABSTAINEES__FK1 FOREIGN KEY 
(
"SUBMISSION_ID_FK"
) REFERENCES PROTOCOL_SUBMISSION 
(
"SUBMISSION_ID"
) ENABLE;

ALTER TABLE PROTOCOL_VOTE_ABSTAINEES 
DROP COLUMN "SCHEDULE_ID_FK";

--make changes to the PROTOCOL_VOTE_RECUSED table
ALTER TABLE PROTOCOL_VOTE_RECUSED 
ADD ("SUBMISSION_ID_FK" NUMBER(12) NOT NULL);

ALTER TABLE PROTOCOL_VOTE_RECUSED 
DROP CONSTRAINT "PROTOCOL_VOTE_RECUSED_COM_FK1";

ALTER TABLE PROTOCOL_VOTE_RECUSED 
ADD CONSTRAINT PROTOCOL_VOTE_RECUSED_PRO_FK2 FOREIGN KEY 
(
"SUBMISSION_ID_FK"
) REFERENCES PROTOCOL_SUBMISSION 
(
"SUBMISSION_ID"
) ENABLE;

ALTER TABLE PROTOCOL_VOTE_RECUSED 
DROP COLUMN "SCHEDULE_ID_FK";

--makes changes to protocol_submission
ALTER TABLE PROTOCOL_SUBMISSION 
ADD ("RECUSED_COUNT" NUMBER(3, 0));

