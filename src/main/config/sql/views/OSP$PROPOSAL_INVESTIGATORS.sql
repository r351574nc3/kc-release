-- View for Coeus compatibility 
CREATE OR REPLACE VIEW OSP$PROPOSAL_INVESTIGATORS AS SELECT 
    PROPOSAL_NUMBER, 
    SEQUENCE_NUMBER, 
    cast(decode(to_char(ROLODEX_ID),null,PERSON_ID,to_char(ROLODEX_ID)) as varchar2(10)) PERSON_ID, 
    PERSON_NAME, 
    decode(PROP_PERSON_ROLE_ID,'PI','Y','N') PRINCIPAL_INVESTIGATOR_FLAG, 
    FACULTY_FLAG, 
    decode(PERSON_ID,null,'Y','N') NON_MIT_PERSON_FLAG, 
    CONFLICT_OF_INTEREST_FLAG, 
    PERCENTAGE_EFFORT, 
    FEDR_DEBR_FLAG, 
    FEDR_DELQ_FLAG, 
    UPDATE_TIMESTAMP, 
    UPDATE_USER, 
    MULTI_PI_FLAG, 
    ACADEMIC_YEAR_EFFORT, 
    SUMMER_YEAR_EFFORT, 
    CALENDAR_YEAR_EFFORT
FROM PROPOSAL_PERSONS;
